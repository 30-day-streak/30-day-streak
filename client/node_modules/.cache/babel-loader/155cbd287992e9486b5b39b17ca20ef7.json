{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{login}from'../../services/auth';var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(){var _this;_classCallCheck(this,SignUp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',message:''};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;login(username,password).then(function(data){if(data.message){_this.setState({message:data.message,username:'',password:''});}else{//put the user in the state of App.js\n_this.props.setUser(data);_this.props.history.push('/');}});};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:this.state.username,onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange})]}),this.state.message&&/*#__PURE__*/_jsx(\"p\",{children:this.state.message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"})]})]});}}]);return SignUp;}(Component);export{SignUp as default};","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/auth/Login.js"],"names":["React","Component","login","SignUp","state","username","password","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","then","data","props","setUser","history","push"],"mappings":"g+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,KAAsB,qBAAtB,C,GAEqBC,CAAAA,M,2TAEnBC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,OAAO,CAAE,EAHH,C,OAMRC,Y,CAAe,SAAAC,KAAK,CAAI,mBACEA,KAAK,CAACC,MADR,CACdC,IADc,eACdA,IADc,CACRC,KADQ,eACRA,KADQ,CAEtB,MAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,GACD,C,OAEDE,Y,CAAe,SAAAL,KAAK,CAAI,CACtBA,KAAK,CAACM,cAAN,GADsB,gBAES,MAAKX,KAFd,CAEdC,QAFc,aAEdA,QAFc,CAEJC,QAFI,aAEJA,QAFI,CAGtBJ,KAAK,CAACG,QAAD,CAAWC,QAAX,CAAL,CACCU,IADD,CACM,SAAAC,IAAI,CAAI,CACZ,GAAIA,IAAI,CAACV,OAAT,CAAkB,CAChB,MAAKM,QAAL,CAAc,CACZN,OAAO,CAAEU,IAAI,CAACV,OADF,CAEZF,QAAQ,CAAE,EAFE,CAGZC,QAAQ,CAAE,EAHE,CAAd,EAKD,CAND,IAMO,CACL;AACA,MAAKY,KAAL,CAAWC,OAAX,CAAmBF,IAAnB,EACA,MAAKC,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CACF,CAbD,EAcD,C,yEAEQ,CACP,mBACE,wCACE,8BADF,cAEE,cAAM,QAAQ,CAAG,KAAKP,YAAtB,wBACE,oCACE,cAAO,OAAO,CAAC,UAAf,wBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAG,KAAKV,KAAL,CAAWC,QAJrB,CAKE,QAAQ,CAAG,KAAKG,YALlB,EAFF,GADF,cAWE,oCACE,cAAO,OAAO,CAAC,UAAf,wBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAG,KAAKJ,KAAL,CAAWE,QAJrB,CAKE,QAAQ,CAAG,KAAKE,YALlB,EAFF,GAXF,CAqBG,KAAKJ,KAAL,CAAWG,OAAX,eACC,mBAAK,KAAKH,KAAL,CAAWG,OAAhB,EAtBJ,cAwBE,eAAQ,IAAI,CAAC,QAAb,oBAxBF,GAFF,GADF,CA+BD,C,oBAhEiCN,S,SAAfE,M","sourcesContent":["import React, { Component } from 'react';\nimport { login } from '../../services/auth';\n\nexport default class SignUp extends Component {\n\n  state = {\n    username: '',\n    password: '',\n    message: ''\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    login(username, password)\n    .then(data => {\n      if (data.message) {\n        this.setState({ \n          message: data.message,\n          username: '',\n          password: ''\n        });\n      } else {\n        //put the user in the state of App.js\n        this.props.setUser(data);\n        this.props.history.push('/');\n      }\n    })\n  }\n\n  render() {\n    return (\n      <>\n        <h2>Log In</h2>\n        <form onSubmit={ this.handleSubmit }>\n          <div>\n            <label htmlFor=\"username\">Username: </label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              name=\"username\"\n              value={ this.state.username }\n              onChange={ this.handleChange }\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password: </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={ this.state.password }\n              onChange={ this.handleChange }\n            />\n          </div>\n          {this.state.message && (\n            <p>{ this.state.message }</p>\n          )}\n          <button type=\"submit\">Log In</button>\n        </form>\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}