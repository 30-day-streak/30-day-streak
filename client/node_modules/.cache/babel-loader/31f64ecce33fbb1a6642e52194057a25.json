{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/challenges/OneChallenge.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './Challenges.css';\nexport default class OneChallenge extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      favorite: ''\n    };\n\n    this.toggleFavorite = () => {\n      const newFavorite = !this.state.favorite; // change state\n\n      this.setState({\n        favorite: newFavorite\n      }); // update database\n\n      const challengeID = this.props.challenge._id;\n      axios.put(`/api/users/${challengeID}/challengesfavorite`, {\n        favorite: newFavorite\n      }); //refresh displayed information\n\n      this.props.getData();\n    };\n\n    this.initialSetUp = () => {\n      //find instead of some?\n      // console.log(this.props.user.challenges)\n      const foundInUserFavorites = this.props.user.challenges.some(challenge => {\n        return challenge.id._id === this.props.challenge._id && challenge.status === 'favorite';\n      });\n      this.setState({\n        favorite: foundInUserFavorites\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.initialSetUp();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.filtered.length !== this.props.filtered.length) {\n      this.initialSetUp();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.props.challenge.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.favorite ? './images/favorite1.png' : './images/unfavorite1.png',\n            onClick: this.toggleFavorite,\n            alt: \"favorite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: this.props.challenge.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.props.challenge.goal && this.props.challenge.goal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/challenges/${this.props.challenge._id}/start`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 70\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, this.props.challenge._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/challenges/OneChallenge.js"],"names":["React","Component","Link","axios","OneChallenge","state","favorite","toggleFavorite","newFavorite","setState","challengeID","props","challenge","_id","put","getData","initialSetUp","foundInUserFavorites","user","challenges","some","id","status","componentDidMount","componentDidUpdate","prevProps","prevState","filtered","length","render","category","title","goal"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;AAEA,eAAe,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAElDI,KAFkD,GAE1C;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAF0C;;AAAA,SAMlDC,cANkD,GAMjC,MAAM;AACrB,YAAMC,WAAW,GAAG,CAAC,KAAKH,KAAL,CAAWC,QAAhC,CADqB,CAErB;;AACA,WAAKG,QAAL,CAAc;AAAEH,QAAAA,QAAQ,EAAEE;AAAZ,OAAd,EAHqB,CAIrB;;AACA,YAAME,WAAW,GAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,GAAzC;AACAV,MAAAA,KAAK,CAACW,GAAN,CAAW,cAAaJ,WAAY,qBAApC,EAA0D;AACxDJ,QAAAA,QAAQ,EAAEE;AAD8C,OAA1D,EANqB,CASrB;;AACA,WAAKG,KAAL,CAAWI,OAAX;AACD,KAjBiD;;AAAA,SAmBlDC,YAnBkD,GAmBnC,MAAM;AACnB;AACA;AACA,YAAMC,oBAAoB,GAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBC,UAAhB,CAA2BC,IAA3B,CAAgCR,SAAS,IAAI;AACxE,eAAOA,SAAS,CAACS,EAAV,CAAaR,GAAb,KAAqB,KAAKF,KAAL,CAAWC,SAAX,CAAqBC,GAA1C,IAAiDD,SAAS,CAACU,MAAV,KAAqB,UAA7E;AACD,OAF4B,CAA7B;AAIA,WAAKb,QAAL,CAAc;AACZH,QAAAA,QAAQ,EAAEW;AADE,OAAd;AAGD,KA7BiD;AAAA;;AA+BlDM,EAAAA,iBAAiB,GAAG;AAClB,SAAKP,YAAL;AACD;;AAEDQ,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,QAAID,SAAS,CAACE,QAAV,CAAmBC,MAAnB,KAA8B,KAAKjB,KAAL,CAAWgB,QAAX,CAAoBC,MAAtD,EAA8D;AAC5D,WAAKZ,YAAL;AACD;AACF;;AAEDa,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,6BAEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACE;AAAA,sBAAK,KAAKlB,KAAL,CAAWC,SAAX,CAAqBkB;AAA1B;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,GAAG,EAAE,KAAKzB,KAAL,CAAWC,QAAX,GAAsB,wBAAtB,GAAiD,0BAA3D;AAAuF,YAAA,OAAO,EAAG,KAAKC,cAAtG;AAAuH,YAAA,GAAG,EAAC;AAA3H;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAA,oBAAM,KAAKI,KAAL,CAAWC,SAAX,CAAqBmB;AAA3B;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAA,oBAAK,KAAKpB,KAAL,CAAWC,SAAX,CAAqBoB,IAArB,IAA6B,KAAKrB,KAAL,CAAWC,SAAX,CAAqBoB;AAAvD;AAAA;AAAA;AAAA;AAAA,gBAPF,eAQE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,eAAc,KAAKrB,KAAL,CAAWC,SAAX,CAAqBC,GAAI,QAAlD;AAAA,iCAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA3D;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA,SAA4B,KAAKF,KAAL,CAAWC,SAAX,CAAqBC,GAAjD;AAAA;AAAA;AAAA;AAAA;AAFF,qBADF;AAgBD;;AA1DiD","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './Challenges.css';\n\nexport default class OneChallenge extends Component {\n\n  state = {\n    favorite: '',\n  }\n\n  toggleFavorite = () => {\n    const newFavorite = !this.state.favorite;\n    // change state\n    this.setState({ favorite: newFavorite });\n    // update database\n    const challengeID = this.props.challenge._id;\n    axios.put(`/api/users/${challengeID}/challengesfavorite`, {\n      favorite: newFavorite,\n    })\n    //refresh displayed information\n    this.props.getData()\n  }\n\n  initialSetUp = () => {\n    //find instead of some?\n    // console.log(this.props.user.challenges)\n    const foundInUserFavorites = this.props.user.challenges.some(challenge => {\n      return challenge.id._id === this.props.challenge._id && challenge.status === 'favorite'\n    })\n\n    this.setState({ \n      favorite: foundInUserFavorites,\n    })\n  }\n\n  componentDidMount() {\n    this.initialSetUp()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.filtered.length !== this.props.filtered.length) {\n      this.initialSetUp()\n    }\n  }\n\n  render() {\n    return (\n      <>\n      {/* <div class=\"container center\"> */}\n        <div className=\"card\" key={ this.props.challenge._id }>\n          <div className='card-header'>\n            <p>{ this.props.challenge.category }</p>\n            <img src={this.state.favorite ? './images/favorite1.png' : './images/unfavorite1.png'} onClick={ this.toggleFavorite } alt=\"favorite\" />\n          </div>\n          <h3>{ this.props.challenge.title }</h3>\n          <hr/>\n          <p>{ this.props.challenge.goal && this.props.challenge.goal }</p>\n          <Link to={`/challenges/${this.props.challenge._id}/start`}><button>Start</button></Link>\n        </div>\n      {/* </div> */}\n    </>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}