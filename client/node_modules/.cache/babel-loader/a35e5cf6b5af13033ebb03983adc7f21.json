{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/dashboard/Dashboard.js\";\nimport React, { Component } from 'react'; // import axios from 'axios';\n\nimport './Dashboard.css';\nimport { Link } from 'react-router-dom';\nimport ActiveChallengePreview from './ActiveChallengePreview'; // import ActiveChallengeDetails from './ActiveChallengeDetails';\n\nimport axios from 'axios';\nexport default class Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.calculateChallengeDay = created_at => {\n      const startAsMilliseconds = new Date(created_at).getTime();\n      return Math.ceil(new Date() / 86400000) - Math.floor([startAsMilliseconds] / 86400000);\n    };\n\n    this.streakStatus = (arr, days) => {\n      let s = arr[0].toString();\n\n      for (let i = 1; i < days; i++) {\n        if (arr[i] !== arr[i - 1]) s += \" \";\n        s += arr[i];\n      } // calculate total days successfully completed\n\n\n      const completed = s.split('1').length - 1; //split data into streaks\n\n      let streaks = s.split(\" \");\n      streaks = streaks.filter(streak => streak[0] === \"1\"); //find longest streak\n\n      let longest = 0;\n      streaks.forEach(streak => {\n        let streakLength = streak.length;\n        if (streakLength > longest) longest = streakLength;\n      }); //compile return array\n\n      let output = {\n        currentStreak: 0,\n        longestStreak: longest,\n        daysCompleted: completed\n      };\n\n      if (arr[days - 1] === 1) {\n        output.currentStreak = streaks[streaks.length - 1].length;\n      }\n\n      return output;\n    };\n  }\n\n  render() {\n    // logged in user\n    if (this.props.user) {\n      const activeChallenges = this.props.user.challenges.filter(challenge => challenge.status === 'active'); // users with no active challenges\n\n      const userHasActiveChallenges = this.props.user.challenges.some(challenge => challenge.status === 'active'); // console.log(this.props.user);\n\n      if (!userHasActiveChallenges) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"instruction-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome\", ' ', this.props.user.firstName ? this.props.user.firstName : this.props.user.username, \" !\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"You don't have any active challenges at the moment.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 73\n            }, this), \"Browse challenges and rewards to save your favorite ones.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 70\n            }, this), \"You can also create your own! They will be automatically saved to your favorites.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 94\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 99\n            }, this), \"When you feel ready go to challenges, pick one and let the adventure begin!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"one-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Challenges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/challenges\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"BROWSE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/challenges/create\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"CREATE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"one-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Rewards\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/rewards\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"BROWSE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/rewards/create\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"CREATE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this); // users with active challenges\n      } else {\n        // this.reload()\n        // console.log('user from props', this.props.user);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome\", ' ', this.props.user.firstName ? this.props.user.firstName : this.props.user.username, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your Active Challenges:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-container\",\n            children: activeChallenges.map(challenge => {\n              return /*#__PURE__*/_jsxDEV(ActiveChallengePreview, {\n                challenge: challenge,\n                user: this.props.user,\n                calculateChallengeDay: this.calculateChallengeDay,\n                streakStatus: this.streakStatus,\n                setUser: this.props.setUser,\n                ...this.props\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      } // guest user (not logged in)\n\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scroll-container one\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"30-DAY-CHALLENGE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Think about something you always wanted to add to your life and try it for the next 30 days...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"30 days just about the right amount of time to add a new habit or substract a habit.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"So... what are you waiting for?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scroll-container two\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Why do a 30-day challenge?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n            titlewidth: \"560\",\n            height: \"315\",\n            src: \"https://www.youtube.com/embed/UNP03fDSj1U\",\n            frameborder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowfullscreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scroll-container light three\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"How to get started?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scroll-container dark four\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Starting a new habit is hard.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 50\n            }, this), \"Breaking a bad one is even\\xA0harder.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 47\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 52\n            }, this), \"In a 30-day challenge, you're just experimenting with new behavior.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 80\n            }, this), \"\\xA0It's like downloading a trial version of the software. You don\\u2019t actually \\u201Cbuy into\\u201D the habit change until the end of the test period. Only then will you decide to keep it or not.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Here are 9 suggestions for building habits that stick: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Focus on 1 habit at the time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Commit to a minimum of 30 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Anchor a new habit to an established routine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Take baby steps - micro commitments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Don\\u2019t break the chain. \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Plan for obstacles and challenges\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Create accountability for your work habit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Reward important milestones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Build a new identity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/dashboard/Dashboard.js"],"names":["React","Component","Link","ActiveChallengePreview","axios","Dashboard","calculateChallengeDay","created_at","startAsMilliseconds","Date","getTime","Math","ceil","floor","streakStatus","arr","days","s","toString","i","completed","split","length","streaks","filter","streak","longest","forEach","streakLength","output","currentStreak","longestStreak","daysCompleted","render","props","user","activeChallenges","challenges","challenge","status","userHasActiveChallenges","some","firstName","username","map","setUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import axios from 'axios';\nimport './Dashboard.css';\nimport { Link } from 'react-router-dom';\nimport ActiveChallengePreview from './ActiveChallengePreview';\n// import ActiveChallengeDetails from './ActiveChallengeDetails';\nimport axios from 'axios';\n\nexport default class Dashboard extends Component {\n  \n  // state = {\n  //   user: '',\n  //   reload: true,\n  // };\n\n  calculateChallengeDay = (created_at) => {\n    const startAsMilliseconds = new Date(created_at).getTime();\n    return Math.ceil(new Date() / 86400000) -\n      Math.floor([startAsMilliseconds] / 86400000);\n  }\n\n  streakStatus = (arr, days) => {\n    let s = arr[0].toString();\n    for (let i = 1; i < days; i++) {\n      if (arr[i] !== arr[i - 1]) s += \" \";\n      s += arr[i];\n    }\n\n    // calculate total days successfully completed\n    const completed = s.split('1').length - 1\n\n    //split data into streaks\n    let streaks = s.split(\" \")\n    streaks = streaks.filter(streak => streak[0] === \"1\")\n    //find longest streak\n    let longest = 0\n    streaks.forEach(streak => {\n      let streakLength = streak.length;\n      if (streakLength > longest) longest = streakLength;\n    })\n    //compile return array\n    let output = {\n      currentStreak: 0,\n      longestStreak: longest,\n      daysCompleted: completed\n    }\n    if (arr[days - 1] === 1) {\n      output.currentStreak = streaks[streaks.length - 1].length\n    }\n    return output\n  }\n\n\n  render() {\n    // logged in user\n    if (this.props.user) {\n      const activeChallenges = this.props.user.challenges.filter(challenge => challenge.status === 'active')\n\n      // users with no active challenges\n      const userHasActiveChallenges = this.props.user.challenges.some(\n        (challenge) => challenge.status === 'active'\n      );\n      // console.log(this.props.user);\n      if (!userHasActiveChallenges) {\n        return (\n          <div className=\"instruction-container\">\n            <h2>Welcome{' '}\n              {this.props.user.firstName\n                ? this.props.user.firstName\n                : this.props.user.username} !\n            </h2>\n            <h4>You don't have any active challenges at the moment.<br/><br/>\n            Browse challenges and rewards to save your favorite ones.<br/>\n            You can also create your own! They will be automatically saved to your favorites.<br/><br/>\n            When you feel ready go to challenges, pick one and let the adventure begin!</h4>\n            \n            <div className=\"button-container\">\n              <div className=\"one-button\">\n              <h5>Challenges</h5>\n              <Link to=\"/challenges\">\n                <button >BROWSE</button>\n              </Link>\n              <Link to=\"/challenges/create\">\n                <button>CREATE</button>\n              </Link>\n              </div>\n    \n              <div className=\"one-button\">\n              <h5>Rewards</h5>\n              <Link to=\"/rewards\">\n                  <button>BROWSE</button>\n                </Link>\n                <Link to=\"/rewards/create\">\n                  <button>CREATE</button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        );\n        // users with active challenges\n      } else {\n        // this.reload()\n        // console.log('user from props', this.props.user);\n        return (\n          <>\n            <h2>Welcome{' '}\n              {this.props.user.firstName\n                ? this.props.user.firstName\n                : this.props.user.username}!\n            </h2>\n            <p>Your Active Challenges:</p>\n\n            <div className=\"dashboard-container\">\n              {activeChallenges.map((challenge) => {\n                return (\n                  <ActiveChallengePreview\n                    challenge={challenge}\n                    user={this.props.user}\n                    calculateChallengeDay={this.calculateChallengeDay}\n                    streakStatus={this.streakStatus}\n                    setUser={this.props.setUser}\n                    {...this.props}\n                  />\n                );\n              })}\n            </div>\n          </>\n        );\n      }\n\n    // guest user (not logged in)\n    } else {\n      return (\n        <div className=\"welcome-container\">\n          {/* intro */}\n          <div className=\"scroll-container one\" >\n            {/* <img src=\"/images/challenge.jpg\" alt=\"challenge\"/> */}\n              <h1>30-DAY-CHALLENGE</h1>\n              <h2>Think about something you always wanted to add to your life and try it for the next 30 days...</h2>\n              <h2>30 days just about the right amount of time to add a new habit or substract a habit.</h2>\n              <h2><strong>So... what are you waiting for?</strong></h2>\n          </div>\n          {/* WHY do it? > video */}\n          <div className=\"scroll-container two\">\n            <h1>Why do a 30-day challenge?</h1>\n            <iframe \n              titlewidth=\"560\" \n              height=\"315\" \n              src=\"https://www.youtube.com/embed/UNP03fDSj1U\"\n              frameborder=\"0\" \n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \n              allowfullscreen>\n            </iframe>\n          </div>\n\n          {/* How do get started? */}\n          <div className=\"scroll-container light three\">\n            <h1>How to get started?</h1>\n          </div>\n\n          {/* Tips on how to make the habits stick */}\n          <div className=\"scroll-container dark four\">\n            <p>Starting a new habit is hard.<br/><br/>\n            Breaking a bad one is even harder.<br/><br/>\n            In a 30-day challenge, you're just experimenting with new behavior.<br/> It's like downloading a trial version of \n            the software. You don’t actually “buy into” the habit change until the end of the test period. \n            Only then will you decide to keep it or not.</p>\n            <p>Here are 9 suggestions for building habits that stick: </p>\n            <ol>\n              <li>Focus on 1 habit at the time</li>\n              <li>Commit to a minimum of 30 days</li>\n              <li>Anchor a new habit to an established routine</li>\n              <li>Take baby steps - micro commitments</li>\n              <li>Don’t break the chain. </li>\n              <li>Plan for obstacles and challenges</li>\n              <li>Create accountability for your work habit</li>\n              <li>Reward important milestones</li>\n              <li>Build a new identity</li>\n            </ol>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}