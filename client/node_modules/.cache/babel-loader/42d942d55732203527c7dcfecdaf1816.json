{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./Dashboard.css';import TrackerButton from'./TrackerButton';var FullTracker=/*#__PURE__*/function(_Component){_inherits(FullTracker,_Component);var _super=_createSuper(FullTracker);function FullTracker(){var _this;_classCallCheck(this,FullTracker);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:''};_this.initialSetupTracker=function(){var tracker=_this.props.challenge.tracker;for(var i=0;i<tracker.length;i++){var indexToString=i.toString();var trackerValue=tracker[i];_this.setState(_defineProperty({},indexToString,trackerValue));}};_this.handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var target,value,name,challengeTracker,index,streakStatusData,generateNotifications,userId,updatedUser,refresh,_streakStatusData,_generateNotifications;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;target=event.target;value=target.checked;name=target.id;// console.log('user tracker array', this.state.user.challenges[0].tracker);\nchallengeTracker=_this.props.challenge.tracker;index=target.id;streakStatusData=_this.props.streakStatus(_this.props.challenge.tracker,_this.props.challengeDay);generateNotifications=_this.props.notifier(streakStatusData);if(!(event.target.id<_this.props.challengeDay)){_context.next=18;break;}// challengeTracker[index] = (challengeTracker[index]++) % 3\nif(challengeTracker[index]===0){challengeTracker[index]++;}else if(challengeTracker[index]===1){challengeTracker[index]++;}else{challengeTracker[index]--;challengeTracker[index]--;}// console.log('challenge tracker after click', challengeTracker);\n// console.log('state after click', this.state);\n_this.setState(_defineProperty({},name,value));userId=_this.state.user._id;_context.next=14;return axios.put(\"/api/users/\".concat(userId),{challenges:_this.state.user.challenges,rewards:_this.state.user.rewards});case 14:updatedUser=_context.sent;refresh=_this.props.refreshActiveChallengeDetails();_streakStatusData=_this.props.streakStatus(_this.props.challenge.tracker,_this.props.challengeDay);_generateNotifications=_this.props.notifier(_streakStatusData);case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 23:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.componentDidMount=function(){_this.setState({user:_this.props.user});};return _this;}_createClass(FullTracker,[{key:\"render\",value:function render(){var challengeTracker=this.props.challenge.tracker;return/*#__PURE__*/_jsxs(\"div\",{className:\"full-tracker\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"click on a day to update the tracker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"full-tracker-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"0\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"1\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"2\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"3\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"4\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"5\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"6\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"7\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"8\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"9\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"10\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"11\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"12\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"13\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"14\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"15\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"16\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"17\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"18\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"19\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"20\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"21\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"22\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"23\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"24\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-of-five-checkboxes\",children:[/*#__PURE__*/_jsx(TrackerButton,{index:\"25\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"26\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"27\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"28\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge}),/*#__PURE__*/_jsx(TrackerButton,{index:\"29\",user:this.props.user,handleChange:this.handleChange,challenge:this.props.challenge})]})]})]});}}]);return FullTracker;}(Component);export{FullTracker as default};","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/dashboard/FullTracker.js"],"names":["React","Component","axios","TrackerButton","FullTracker","state","user","initialSetupTracker","tracker","props","challenge","i","length","indexToString","toString","trackerValue","setState","handleChange","event","target","value","checked","name","id","challengeTracker","index","streakStatusData","streakStatus","challengeDay","generateNotifications","notifier","userId","_id","put","challenges","rewards","updatedUser","refresh","refreshActiveChallengeDetails","console","log","componentDidMount"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Dashboard.css';\nimport TrackerButton from './TrackerButton';\n\nexport default class FullTracker extends Component {\n  state = {\n    user: '',\n  };\n\n  initialSetupTracker = () => {\n    let tracker = this.props.challenge.tracker;\n    for (let i = 0; i < tracker.length; i++) {\n      let indexToString = i.toString();\n      let trackerValue = tracker[i];\n      this.setState({\n        [indexToString]: trackerValue,\n      });\n    }\n  };\n\n  handleChange = async (event) => {\n    try {\n      const target = event.target;\n      const value = target.checked;\n      const name = target.id;\n      // console.log('user tracker array', this.state.user.challenges[0].tracker);\n      let challengeTracker = this.props.challenge.tracker;\n      let index = target.id;\n      \n      const streakStatusData = this.props.streakStatus(this.props.challenge.tracker, this.props.challengeDay)\n      const generateNotifications = this.props.notifier(streakStatusData)\n\n      if (event.target.id < this.props.challengeDay) {\n        // challengeTracker[index] = (challengeTracker[index]++) % 3\n        if (challengeTracker[index] === 0) {\n          challengeTracker[index]++;\n        } else if (challengeTracker[index] === 1) {\n          challengeTracker[index]++;\n        } else {\n          challengeTracker[index]--;\n          challengeTracker[index]--;\n        }\n        // console.log('challenge tracker after click', challengeTracker);\n        // console.log('state after click', this.state);\n        this.setState({\n          [name]: value,\n        });\n        let userId = this.state.user._id;\n        const updatedUser = await axios.put(`/api/users/${userId}`, {\n          challenges: this.state.user.challenges,\n          rewards: this.state.user.rewards,\n        });\n\n        const refresh = this.props.refreshActiveChallengeDetails();\n        const streakStatusData = this.props.streakStatus(\n          this.props.challenge.tracker,\n          this.props.challengeDay\n        );\n        const generateNotifications = this.props.notifier(streakStatusData);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  componentDidMount = () => {\n    this.setState({\n      user: this.props.user,\n    });\n  };\n\n  render() {\n    let challengeTracker = this.props.challenge.tracker;\n    return (\n      <div className=\"full-tracker\">\n        <p>click on a day to update the tracker</p>\n\n        <div className=\"full-tracker-grid\">\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"0\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"1\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"2\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"3\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"4\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"5\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"6\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"7\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"8\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"9\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"10\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"11\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"12\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"13\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"14\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"15\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"16\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"17\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"18\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"19\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"20\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"21\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"22\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"23\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"24\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n\n          <div className=\"set-of-five-checkboxes\">\n            <TrackerButton\n              index=\"25\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"26\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"27\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"28\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n            <TrackerButton\n              index=\"29\"\n              user={this.props.user}\n              handleChange={this.handleChange}\n              challenge={this.props.challenge}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}