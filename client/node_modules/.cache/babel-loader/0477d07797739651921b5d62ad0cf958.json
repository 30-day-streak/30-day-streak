{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var CreateReward=/*#__PURE__*/function(_Component){_inherits(CreateReward,_Component);var _super=_createSuper(CreateReward);function CreateReward(props){var _this;_classCallCheck(this,CreateReward);_this=_super.call(this,props);_this.getData=function(){axios.get('/api/rewards').then(function(response){console.log({response:response});_this.setState({rewards:response.data});}).catch(function(err){return console.log(err);});};_this.handleChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));console.log('state form create rewards',_this.state);};_this.resetState=function(){_this.setState(_this.initialState);};_this.handleSubmit=function(event){event.preventDefault();// axios call to api\naxios.post('/api/rewards',{name:_this.state.name,description:_this.state.description,category:_this.state.category,url:_this.state.url}).then(function(response){console.log(\"axios response\",response);// reinitialise state\n_this.resetState();_this.getData();_this.props.history.push('/rewards');}).catch(function(err){return console.log(err);});};_this.toggleAddReward=function(){_this.setState(function(state){return{showForm:!state.showForm};});};_this.state={name:'',description:'',category:'entertainment',url:'',showForm:true};_this.initialState=_this.state;return _this;}_createClass(CreateReward,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{onClick:this.toggleAddReward,children:\"Create a new reward\"}),this.state.showForm&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Need some ideas for incentives to achieving your goals?\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check out what \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"other users have added\"}),\" or see if there is something you like on\",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.developgoodhabits.com/reward-yourself/\",target:\"_blank\",children:\" this list \"}),\"or \",/*#__PURE__*/_jsx(\"a\",{href:\"https://organisemyhouse.com/reward-yourself/\",target:\"_blank\",children:\"this one\"}),\".\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:this.state.name,placeholder:\"Give your reward a name\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:this.state.description,placeholder:\"Add a more detailed description if you need one\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",value:this.state.category,placeholder:\"Select category\",onChange:this.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"entertainment\",children:\"Art and Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"self-care\",children:\"Self-care\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shopping\",children:\"Shopping\"}),/*#__PURE__*/_jsx(\"option\",{value:\"travel and outdoors\",children:\"Travel and Outdoors\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",children:\"Link\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url\",name:\"url\",value:this.state.url,placeholder:\"You can add a link to an internet page here\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save to my list of rewards\"}),/*#__PURE__*/_jsx(\"button\",{type:\"cancel\",onClick:this.resetState,children:\"Cancel\"})]})]})]});}}]);return CreateReward;}(Component);export{CreateReward as default};","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/CreateReward.js"],"names":["React","Component","axios","CreateReward","props","getData","get","then","response","console","log","setState","rewards","data","catch","err","handleChange","event","name","target","value","state","resetState","initialState","handleSubmit","preventDefault","post","description","category","url","history","push","toggleAddReward","showForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\n\nexport default class CreateReward extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      description: '',\n      category: 'entertainment',\n      url: '',\n      showForm: true\n    }\n    this.initialState = this.state\n  }\n\n  getData = () => {\n    axios.get('/api/rewards')\n      .then(response => {\n        console.log({ response });\n\n        this.setState({\n          rewards: response.data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  handleChange = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n    console.log('state form create rewards', this.state);\n  };\n\n  resetState = () => {\n    this.setState(this.initialState)\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // axios call to api\n    axios\n      .post('/api/rewards', {\n        name: this.state.name,\n        description: this.state.description,\n        category: this.state.category,\n        url: this.state.url\n      })\n      .then((response) => {\n        console.log(`axios response`, response);\n        // reinitialise state\n        this.resetState()\n        this.getData()\n        this.props.history.push('/rewards');\n      })\n      .catch(err => console.log(err));\n  }\n\n  toggleAddReward = () => {\n    this.setState((state) => ({\n      showForm: !state.showForm\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        <h2 onClick={this.toggleAddReward}>Create a new reward</h2>\n        {this.state.showForm &&\n          <div>\n            <p>Need some ideas for incentives to achieving your goals?</p>\n            <p>Check out what <a href=\"#\">other users have added</a> or see if there is something you like on \n            <a href=\"https://www.developgoodhabits.com/reward-yourself/\" target=\"_blank\"> this list </a>\n             or <a href=\"https://organisemyhouse.com/reward-yourself/\" target=\"_blank\">this one</a>.</p>\n\n            <br />\n            <form onSubmit={this.handleSubmit}>\n\n              <label htmlFor=\"name\">Name</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={this.state.name}\n                placeholder=\"Give your reward a name\"\n                onChange={this.handleChange}\n              />\n              <br />\n\n              <label htmlFor=\"description\">Description</label>\n              <input\n                type=\"text\"\n                id=\"description\"\n                name=\"description\"\n                value={this.state.description}\n                placeholder=\"Add a more detailed description if you need one\"\n                onChange={this.handleChange} />\n              <br />\n\n              <label htmlFor=\"category\">Category</label>\n              <select\n                id=\"category\"\n                name=\"category\"\n                value={this.state.category}\n                placeholder=\"Select category\"\n                onChange={this.handleChange}>\n                {/* <option value=\"\" selected=\"selected\">Select a category</option> */}\n                <option value=\"entertainment\">Art and Entertainment</option>\n                <option value=\"food\">Food</option>\n                <option value=\"self-care\">Self-care</option>\n                <option value=\"shopping\">Shopping</option>\n                <option value=\"travel and outdoors\">Travel and Outdoors</option>\n                <option value=\"Other\">Other</option>\n              </select>\n              <br />\n\n              <label htmlFor=\"url\">Link</label>\n              <input\n                type=\"text\"\n                id=\"url\"\n                name=\"url\"\n                value={this.state.url}\n                placeholder=\"You can add a link to an internet page here\"\n                onChange={this.handleChange} />\n              <br />\n\n              <button type=\"submit\">Save to my list of rewards</button><button type=\"cancel\" onClick={this.resetState}>Cancel</button>\n            </form>\n          </div>\n        }\n      </div >\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}