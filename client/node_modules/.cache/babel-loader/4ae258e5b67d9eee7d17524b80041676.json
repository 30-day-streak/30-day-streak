{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markkeeble/Ironhack/course/30-day-streak/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var CreateReward=/*#__PURE__*/function(_Component){_inherits(CreateReward,_Component);var _super=_createSuper(CreateReward);function CreateReward(props){var _this;_classCallCheck(this,CreateReward);_this=_super.call(this,props);_this.getData=function(){axios.get('/api/rewards').then(function(response){_this.setState({rewards:response.data});}).catch(function(err){return console.log(err);});};_this.handleChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};_this.resetState=function(){_this.setState(_this.initialState);};_this.handleSubmit=function(event){event.preventDefault();// axios call to api\naxios.post('/api/rewards',{name:_this.state.name,description:_this.state.description,category:_this.state.category,url:_this.state.url}).then(function(response){// reinitialise state\n_this.resetState();_this.getData();_this.props.history.push('/rewards');}).catch(function(err){return console.log(err);});};_this.toggleAddReward=function(){_this.setState(function(state){return{showForm:!state.showForm};});};_this.state={name:'',description:'',category:'entertainment',url:'',showForm:true};_this.initialState=_this.state;return _this;}_createClass(CreateReward,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.state.showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"create-challenge-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"create-challenge-form\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-header\",children:[/*#__PURE__*/_jsx(\"h1\",{onClick:this.toggleAddReward,children:\"Create a new reward\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Need some ideas for incentives to achieving your goals?\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check out what \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"other users have added\"}),\" or see if there is something you like on\",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.developgoodhabits.com/reward-yourself/\",target:\"_blank\",children:\" this list \"}),\"or \",/*#__PURE__*/_jsx(\"a\",{href:\"https://organisemyhouse.com/reward-yourself/\",target:\"_blank\",children:\"this one\"}),\".\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"create-challenge-form-fields\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-form-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-form-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:this.state.name,placeholder:\"Give your reward a name\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-form-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:this.state.description,placeholder:\"Add a more detailed description if you need one\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-form-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",children:\"Link\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url\",name:\"url\",value:this.state.url,placeholder:\"You can add a link to an internet page here\",onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-form-item\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category  \\xA0 \\xA0\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",value:this.state.category,placeholder:\"Select category\",onChange:this.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"entertainment\",children:\"Art and Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"self-care\",children:\"Self-care\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shopping\",children:\"Shopping\"}),/*#__PURE__*/_jsx(\"option\",{value:\"travel and outdoors\",children:\"Travel and Outdoors\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-challenge-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button-light\",type:\"cancel\",onClick:this.resetState,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-dark\",type:\"submit\",children:\"Save to favorites\"})]})]})})});}}]);return CreateReward;}(Component);export{CreateReward as default};","map":{"version":3,"sources":["/Users/markkeeble/Ironhack/course/30-day-streak/client/src/components/rewards/CreateReward.js"],"names":["React","Component","axios","CreateReward","props","getData","get","then","response","setState","rewards","data","catch","err","console","log","handleChange","event","name","target","value","resetState","initialState","handleSubmit","preventDefault","post","state","description","category","url","history","push","toggleAddReward","showForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\n\nexport default class CreateReward extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      description: '',\n      category: 'entertainment',\n      url: '',\n      showForm: true\n    }\n    this.initialState = this.state\n  }\n\n  getData = () => {\n    axios.get('/api/rewards')\n      .then(response => {\n        this.setState({\n          rewards: response.data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  handleChange = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  resetState = () => {\n    this.setState(this.initialState)\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // axios call to api\n    axios\n      .post('/api/rewards', {\n        name: this.state.name,\n        description: this.state.description,\n        category: this.state.category,\n        url: this.state.url\n      })\n      .then((response) => {\n        // reinitialise state\n        this.resetState()\n        this.getData()\n        this.props.history.push('/rewards');\n      })\n      .catch(err => console.log(err));\n  }\n\n  toggleAddReward = () => {\n    this.setState((state) => ({\n      showForm: !state.showForm\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.showForm &&\n          <div className=\"create-challenge-page\">\n            <form \n              className=\"create-challenge-form\"\n              onSubmit={this.handleSubmit}>\n\n                <div className=\"create-challenge-header\">\n                  <h1 onClick={this.toggleAddReward}>Create a new reward</h1>\n                  <p>Need some ideas for incentives to achieving your goals?</p>\n                  <p>Check out what <a href=\"#\">other users have added</a> or see if there is something you like on \n                  <a href=\"https://www.developgoodhabits.com/reward-yourself/\" target=\"_blank\"> this list </a>\n                  or <a href=\"https://organisemyhouse.com/reward-yourself/\" target=\"_blank\">this one</a>.</p>\n                </div>\n\n              <div className=\"create-challenge-form-fields\">\n                <div className=\"create-challenge-form-item\">\n\n                  <div className=\"create-challenge-form-item\">\n                    <label htmlFor=\"name\">Name</label>\n                    <br />\n                    <input\n                      type=\"text\"\n                      id=\"name\"\n                      name=\"name\"\n                      value={this.state.name}\n                      placeholder=\"Give your reward a name\"\n                      onChange={this.handleChange}/>\n                  </div>\n\n                  <div className=\"create-challenge-form-item\">\n                    <label htmlFor=\"description\">Description</label>\n                    <br />\n                    <input\n                      type=\"text\"\n                      id=\"description\"\n                      name=\"description\"\n                      value={this.state.description}\n                      placeholder=\"Add a more detailed description if you need one\"\n                      onChange={this.handleChange} />\n                  </div>\n\n                  <div className=\"create-challenge-form-item\">\n                    <label htmlFor=\"url\">Link</label>\n                    <br />\n                    <input\n                      type=\"text\"\n                      id=\"url\"\n                      name=\"url\"\n                      value={this.state.url}\n                      placeholder=\"You can add a link to an internet page here\"\n                      onChange={this.handleChange} />\n                  </div>\n\n                  <div className=\"create-challenge-form-item\">\n                    <label htmlFor=\"category\">Category  &nbsp; &nbsp;</label>\n                    <select\n                      id=\"category\"\n                      name=\"category\"\n                      value={this.state.category}\n                      placeholder=\"Select category\"\n                      onChange={this.handleChange}>\n                      {/* <option value=\"\" selected=\"selected\">Select a category</option> */}\n                      <option value=\"entertainment\">Art and Entertainment</option>\n                      <option value=\"food\">Food</option>\n                      <option value=\"self-care\">Self-care</option>\n                      <option value=\"shopping\">Shopping</option>\n                      <option value=\"travel and outdoors\">Travel and Outdoors</option>\n                      <option value=\"Other\">Other</option>\n                    </select>\n                  </div>\n\n                </div>\n              </div>\n\n\n              <div className=\"create-challenge-buttons\">\n                <button className=\"button-light\" type=\"cancel\" onClick={this.resetState}>Cancel</button>\n                <button className=\"button-dark\" type=\"submit\">Save to favorites</button>\n              </div>\n            </form>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}